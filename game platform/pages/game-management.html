<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>游戏管理</title>
    <script src="scripts/game-management/game-management-script.js"></script>
    <link rel="stylesheet" href="../css/game-management.css">
    <link rel="stylesheet" href="../css/addnewgames.css">
</head>

<body>
    <!-- 导航栏，与首页保持一致 -->
    <nav>
        <ul class="nav-links">
            <li><a href="../pages/index.html">首页</a></li>
            <li><a href="../pages/game-management.html">游戏管理</a></li>
            <li><a href="../pages/user-management.html">用户管理</a></li>
            <li><a href="../pages/data-statistics.html">数据统计</a></li>
            <li><a href="../pages/system-settings.html">系统设置</a></li>
        </ul>
        <div class="user-info">
            <span>管理员</span>
            <a href="#" class="logout">退出</a>
        </div>
    </nav>

    <!-- 游戏管理子菜单栏 -->
    <div class="sub-nav">
        <ul>
            <li><a href="#" class="sub-nav-link active" data-section="game-list-section">游戏列表</a></li>
            <li><a href="#" class="sub-nav-link" data-section="game-status-section">游戏状态控制</a></li>
            <li><a href="#" class="sub-nav-link" data-section="recommendation-section">推荐位管理</a></li>
            <li><a href="#" class="sub-nav-link" data-section="audit-feedback-section">游戏审核与反馈</a></li>
        </ul>
    </div>

    <!-- 内容区域 -->
    <section id="game-list-section" class="content-section active">
        <div class="quick-actions">
            <h2>快捷操作</h2>
            <a href="#" class="btn" id="add-game-btn">添加新游戏</a>
            <a href="#" class="btn">导出数据报表</a>
            <a href="#" class="btn">发布公告</a>
        </div>

        <h2>游戏列表</h2>
        <!-- 搜索框和按钮容器 -->
        <div class="search-container">
            <input type="text" id="game-search" placeholder="搜索游戏名称">
            <button id="search-button">搜索</button>
        </div>
        <select id="status-filter">
            <option value="all">全部</option>
            <option value="正常运营">正常运营</option>
            <option value="维护中">维护中</option>
        </select>
        <table>
            <thead>
                <tr>
                    <th><input type="checkbox" id="select-all"></th>
                    <th>游戏图标</th>
                    <th>游戏名称</th>
                    <th>状态</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input type="checkbox" class="game-checkbox" data-game-id="1"></td>
                    <td><img src="../assets/images/wz.jfif" alt="游戏1图标" width="50"></td>
                    <td>王者荣耀</td>
                    <td>正常运营</td>
                    <td>
                        <a href="#" class="btn">查看详情</a>
                        <a href="#" class="btn">暂停运营</a>
                    </td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="game-checkbox" data-game-id="1"></td>
                    <td><img src="../assets/images/wz.jfif" alt="游戏1图标" width="50"></td>
                    <td>王者荣耀</td>
                    <td>正常运营</td>
                    <td>
                        <a href="#" class="btn">查看详情</a>
                        <a href="#" class="btn">暂停运营</a>
                    </td>
                </tr>
                <tr>
                    <td><input type="checkbox" class="game-checkbox" data-game-id="1"></td>
                    <td><img src="../assets/images/wz.jfif" alt="游戏1图标" width="50"></td>
                    <td>王者荣耀</td>
                    <td>正常运营</td>
                    <td>
                        <a href="#" class="btn">查看详情</a>
                        <a href="#" class="btn">暂停运营</a>
                    </td>
                </tr>
                <!-- 其他游戏行 -->
            </tbody>
        </table>
        <!-- 分页部分 -->
        <div class="pagination">
            <a href="#" class="prev">上一页</a>
            <a href="#" class="page-num">1</a>
            <a href="#" class="page-num">2</a>
            <a href="#" class="page-num">3</a>
            <a href="#" class="next">下一页</a>
        </div>
    </section>

    <!-- 添加游戏的模态框 -->
    <div id="add-game-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>添加新游戏</h2>
            <form>
                <label for="game-name">游戏名称:</label>
                <input type="text" id="game-name" name="game-name" required>
                <label for="game-description">游戏描述:</label>
                <textarea id="game-description" name="game-description"></textarea>
                <input type="submit" value="提交">
            </form>
        </div>
    </div>

    <section id="game-status-section" class="content-section">
        <h2>游戏状态控制</h2>
        <p>这里是游戏状态控制的内容。</p>
    </section>

    <section id="recommendation-section" class="content-section">
        <h2>推荐位管理</h2>
        <p>这里是推荐位管理的内容。</p>
    </section>

    <section id="audit-feedback-section" class="content-section">
        <h2>游戏审核与反馈</h2>
        <p>这里是游戏审核与反馈的内容。</p>
    </section>

    <script src="../scripts/addnewgames/addnewgames.js"></script>

    <!-- 子菜单栏点击切换效果 -->
    <script>
        const searchInput = document.getElementById('game-search');
        const searchButton = document.getElementById('search-button');
        const tableRows = document.querySelectorAll('table tbody tr');

        function searchGames() {
            const searchTerm = searchInput.value.trim().toLowerCase();
            tableRows.forEach(row => {
                const gameName = row.children[2].textContent.toLowerCase();
                if (gameName.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        searchButton.addEventListener('click', searchGames);
        searchInput.addEventListener('input', searchGames);

        const subNavLinks = document.querySelectorAll('.sub-nav-link');
        subNavLinks.forEach(link => {
            link.addEventListener('click', function (e) {
                e.preventDefault();
                subNavLinks.forEach(link => link.classList.remove('active'));
                this.classList.add('active');

                const targetSectionId = this.dataset.section;
                const contentSections = document.querySelectorAll('.content-section');
                contentSections.forEach(section => section.classList.remove('active'));
                document.getElementById(targetSectionId).classList.add('active');
            });
        });
    </script>
</body>

</html>